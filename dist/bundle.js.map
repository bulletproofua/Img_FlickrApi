{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/modules/flickrApi.js","webpack:///./js/modules/dom.js","webpack:///./js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","FlickApi","[object Object]","api_key","photosPerPage","this","tags","pageNumber","page","theUrl","xmlHttp","XMLHttpRequest","open","send","JSON","parse","responseText","photos","photo","imgObject","farm","server","id","secret","list","map","preparePhotoURL","Dom","searchInputId","imgBoxId","showMoreWrapperId","classes","imgWrapperClassName","imgClassName","document","getElementById","error","imgUrl","div","createElement","className","img","src","appendChild","myNode","firstChild","removeChild","style","visibility","_modules_flickrApi__WEBPACK_IMPORTED_MODULE_0__","_modules_dom__WEBPACK_IMPORTED_MODULE_1__","inputValue","flick","domM","setPhotos","val","getPhotos","prepareURLForPhotos","el","insertImgToPage","hideShowMoreBtn","searchButton","onclick","getSearchValue","cleanImgArea","showShowMoreBtn","showMore","init"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","export class FlickApi {\r\n\r\n    constructor(api_key, photosPerPage) {\r\n        this.api_key = api_key ? api_key : '';\r\n        this.photosPerPage = photosPerPage ? photosPerPage : 10;\r\n    }\r\n\r\n    getPhotos(tags, pageNumber) {\r\n        let page = pageNumber ? pageNumber : 1;\r\n        let theUrl = `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${this.api_key}&tags=${tags}&per_page=${this.photosPerPage}&page=${page}&format=json&nojsoncallback=1`\r\n        let xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open(\"GET\", theUrl, false);\r\n        xmlHttp.send(null);\r\n        return JSON.parse(xmlHttp.responseText).photos.photo;\r\n    }\r\n\r\n    preparePhotoURL(imgObject) {\r\n        return `https://farm${imgObject.farm}.staticflickr.com/${imgObject.server}/${imgObject.id}_${imgObject.secret}.jpg`;\r\n    }\r\n\r\n    prepareURLForPhotos(list) {\r\n        return list.map((photo) => {\r\n            return this.preparePhotoURL(photo);\r\n        });\r\n    }\r\n}\r\n","export class Dom {\r\n\r\n    constructor(searchInputId, imgBoxId, showMoreWrapperId, classes) {\r\n        this.searchInputId = searchInputId ? searchInputId : '';\r\n        this.imgBoxId = imgBoxId ? imgBoxId : '';\r\n        this.showMoreWrapperId = showMoreWrapperId ? showMoreWrapperId : '';\r\n        this.classes = classes ? classes : { imgWrapperClassName: \"\", imgClassName: \"\" }  ;\r\n    }\r\n    \r\n    getSearchValue() {\r\n        try {\r\n            return document.getElementById(this.searchInputId).value;\r\n        } catch (error) {\r\n            return '';\r\n        }\r\n    }\r\n    \r\n    insertImgToPage(imgUrl) {\r\n        var div = document.createElement('div');\r\n        div.className = this.classes.imgWrapperClassName;\r\n\r\n        var img = document.createElement('img');\r\n        img.className = this.classes.imgClassName,\r\n        img.src = imgUrl;\r\n\r\n        div.appendChild(img);\r\n        document.getElementById(this.imgBoxId).appendChild(div);\r\n    }\r\n    \r\n    cleanImgArea(){\r\n        var myNode = document.getElementById(this.imgBoxId);\r\n        while (myNode.firstChild) {\r\n            myNode.removeChild(myNode.firstChild);\r\n        }\r\n    }\r\n\r\n    hideShowMoreBtn() {\r\n        document.getElementById(this.showMoreWrapperId).style.visibility = 'hidden';\r\n    }\r\n\r\n    showShowMoreBtn() {\r\n        document.getElementById(this.showMoreWrapperId).style.visibility = 'visible';\r\n    }\r\n}\r\n","import { FlickApi } from './modules/flickrApi';\r\nimport { Dom } from './modules/dom';\r\n\r\nfunction init() {\r\n    const API_KEY = 'd1d0e4936bb67d5b928fa5e743bce897';\r\n\r\n    let inputValue = '';\r\n    let pageNumber = 1;\r\n\r\n    let flick = new FlickApi(API_KEY);\r\n    let domM = new Dom('search', 'imgBox', 'showMoreWrapper', {\r\n        imgWrapperClassName: 'img__wrapper',\r\n        imgClassName: 'img__box_content'\r\n    });\r\n\r\n    domM.hideShowMoreBtn();\r\n\r\n    searchButton.onclick = function() {\r\n        inputValue = domM.getSearchValue();\r\n        if (inputValue) {\r\n            pageNumber = 1;\r\n            domM.hideShowMoreBtn();\r\n            domM.cleanImgArea();\r\n            setPhotos(inputValue);\r\n            domM.showShowMoreBtn();\r\n        }\r\n    };\r\n    \r\n    showMore.onclick = function() {\r\n        pageNumber++;\r\n        if (inputValue) {\r\n            setPhotos(inputValue, pageNumber);\r\n        }\r\n    }\r\n\r\n    function setPhotos(val, pageNumber) {\r\n        let photos = flick.getPhotos(val, pageNumber);\r\n        let links = flick.prepareURLForPhotos(photos);\r\n        \r\n        links.map((el) => {\r\n            domM.insertImgToPage(el);\r\n        })\r\n    }\r\n};\r\n\r\ninit();\r\n"],"sourceRoot":""}